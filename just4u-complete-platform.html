<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>justüîó4u - Complete Developer Platform</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #2d3748;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Header with Logo */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 20px;
            flex-direction: column;
            gap: 6px;
        }

        .logo {
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
        }

        .tagline {
            font-size: 0.9rem;
            color: #4a5568;
            text-align: center;
        }

        /* Top Navigation Bar */
        .top-nav {
            background: linear-gradient(135deg, #667eea, #764ba2);
            position: sticky;
            top: 64px; /* below header */
            z-index: 999;
        }
        .top-nav-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px 20px;
            display: flex;
            gap: 10px;
            overflow-x: auto;
        }
        .nav-btn {
            background: rgba(255,255,255,0.15);
            color: #fff;
            border: 1px solid rgba(255,255,255,0.25);
            border-radius: 999px;
            padding: 10px 16px;
            font-weight: 800;
            white-space: nowrap;
            cursor: pointer;
            transition: .2s;
        }
        .nav-btn.active, .nav-btn:hover { background: rgba(255,255,255,0.3); }

        /* Main Content */
        .main-content {
            display: none;
            padding: 40px 20px;
        }
        .main-content.active { display: block; }

        .container { max-width: 1200px; margin: 0 auto; }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 2.2rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 15px;
            color: #1a202c;
        }
        .section-subtitle { text-align: center; color: #4a5568; margin-bottom: 24px; font-size: 1.05rem; }

        /* Filters */
        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        .filter-group { background: #f7fafc; border-radius: 12px; padding: 20px; }
        .filter-title { font-weight: 700; margin-bottom: 12px; color: #2d3748; display: flex; align-items: center; gap: 8px; }
        .range-label { display: block; font-weight: 600; margin-bottom: 8px; color: #4a5568; }
        .range-slider { width: 100%; height: 8px; border-radius: 5px; background: linear-gradient(90deg, #e2e8f0 0%, #cbd5e0 100%); outline: none; opacity: .8; }

        /* Searchable Multi-select */
        .ms-control { position: relative; }
        .ms-button { width: 100%; text-align: left; background: #fff; border: 2px solid #e2e8f0; border-radius: 10px; padding: 10px 12px; font-weight: 700; cursor: pointer; }
        .ms-badge { background: #edf2f7; color: #4a5568; border-radius: 999px; padding: 2px 8px; font-size: 12px; margin-left: 8px; }
        .ms-panel { position: absolute; left: 0; right: 0; top: calc(100% + 6px); background: #fff; border: 2px solid #e2e8f0; border-radius: 12px; box-shadow: 0 12px 32px rgba(0,0,0,.08); z-index: 1001; display: none; }
        .ms-panel.open { display: block; }
        .ms-search { padding: 8px 10px; border-bottom: 1px solid #e2e8f0; }
        .ms-search input { width: 100%; padding: 8px 10px; border: 2px solid #e2e8f0; border-radius: 8px; }
        .ms-list { max-height: 240px; overflow: auto; }
        .ms-item { display: flex; align-items: center; gap: 8px; padding: 8px 12px; cursor: pointer; }
        .ms-item:hover { background: #f7fafc; }
        .ms-actions { display: flex; justify-content: space-between; padding: 10px; border-top: 1px solid #e2e8f0; }
        .ms-apply { background: linear-gradient(135deg, #667eea, #764ba2); color: #fff; border: 0; border-radius: 8px; padding: 8px 12px; font-weight: 800; cursor: pointer; }
        .ms-clear { background: transparent; border: 0; color: #4a5568; font-weight: 700; cursor: pointer; }

        /* Results */
        .results-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 18px; gap: 12px; flex-wrap: wrap; }
        .results-count { font-weight: 700; color: #4a5568; }
        .sort-select { padding: 8px 12px; border: 2px solid #e2e8f0; border-radius: 8px; background: white; }

        /* Developer Cards */
        .developers-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(420px, 1fr)); gap: 25px; margin-top: 30px; }
        .developer-card { background: white; border-radius: 16px; padding: 25px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08); transition: all .3s ease; border: 2px solid transparent; position: relative; overflow: hidden; }
        .developer-card:hover { transform: translateY(-6px); box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15); border-color: #667eea; }
        .developer-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(135deg, #667eea, #764ba2); }
        .developer-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; gap: 10px; }
        .developer-title { font-size: 1.25rem; font-weight: 800; color: #1a202c; line-height: 1.3; flex: 1; }
        .developer-id { background: #667eea; color: white; padding: 6px 12px; border-radius: 12px; font-size: 12px; font-weight: 800; }
        .developer-meta { display: flex; gap: 10px; margin-bottom: 12px; font-size: 14px; color: #4a5568; flex-wrap: wrap; }
        .meta-item { display: flex; align-items: center; gap: 4px; }

        /* Aligned ratings */
        .ratings-section { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 12px; padding: 12px; background: linear-gradient(135deg, #f7fafc, #edf2f7); border-radius: 12px; }
        .rating-item { text-align: center; display: grid; gap: 4px; align-content: center; }
        .rating-label { font-size: 11px; color: #718096; text-transform: uppercase; font-weight: 800; }
        .rating-value { font-size: 1.3rem; font-weight: 900; }
        .tech-level-value { color: #667eea; }
        .performance-value { color: #48bb78; }
        .category-value { color: #ed8936; font-size: 1.05rem; font-weight: 800; }

        .tech-skills { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 12px; }
        .skill-tag { background: #edf2f7; color: #4a5568; padding: 5px 10px; border-radius: 8px; font-size: 11px; font-weight: 600; }
        .skill-tag.primary { background: linear-gradient(135deg, #fed7d7, #feb2b2); color: #742a2a; font-weight: 700; }

        .experience-description { font-size: 13px; color: #718096; margin-bottom: 18px; line-height: 1.5; }

        .card-footer { display: flex; justify-content: space-between; align-items: center; padding-top: 12px; border-top: 1px solid #e2e8f0; }
        .salary-amount { font-size: 1.3rem; font-weight: 900; color: #48bb78; }
        .salary-period { font-size: 12px; color: #718096; }
        .hire-btn { background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 10px 16px; border-radius: 20px; font-weight: 800; cursor: pointer; transition: .2s; font-size: 14px; }
        .hire-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(102,126,234,.4); }

        /* Responsive */
        @media (max-width: 768px) {
            .developers-grid { grid-template-columns: 1fr; }
            .filters-grid { grid-template-columns: 1fr; }
            .section-title { font-size: 1.8rem; }
            .developer-header { flex-direction: column; align-items: flex-start; gap: 8px; }
            .developer-id { margin-left: 0; }
            .ratings-section { grid-template-columns: 1fr 1fr 1fr; }
        }

        /* Loading Animation */
        .loading { text-align: center; padding: 40px; color: #4a5568; }
        .spinner { border: 4px solid #e2e8f0; border-top: 4px solid #667eea; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">justüîó4u</div>
            <div class="tagline">Verified Developers ‚Ä¢ Tech Score ‚Ä¢ Performance Rating</div>
        </div>
    </header>

    <!-- Top Navigation (tabs) -->
    <nav class="top-nav">
        <div class="top-nav-inner">
            <button class="nav-btn active" id="tab-search" onclick="showSection('search');setActiveTab('search')">üîç Find Developers</button>
            <button class="nav-btn" id="tab-top3" onclick="showSection('top3');setActiveTab('top3')">üèÜ Top 3</button>
            <button class="nav-btn" id="tab-constructor" onclick="showSection('constructor');setActiveTab('constructor')">‚ö° Ideal Developer</button>
        </div>
    </nav>

    <!-- Search Section -->
    <main class="main-content active" id="searchSection">
        <div class="container">
            <div class="content-section">
                <h1 class="section-title">üîç Find Your Perfect Developer</h1>
                <p class="section-subtitle">Use filters or search to narrow results. Mobile-friendly, compact controls.</p>
                
                <div class="filters-grid">
                    <div class="filter-group">
                        <h3 class="filter-title">üí∞ Budget Range</h3>
                        <label class="range-label">Monthly Budget: <span id="salaryDisplay">$2,000 - $6,000</span></label>
                        <input type="range" class="range-slider" id="salaryMin" min="1000" max="8000" value="2000" oninput="updateSalaryRange(); filterDevelopers()">
                        <input type="range" class="range-slider" id="salaryMax" min="1000" max="8000" value="6000" oninput="updateSalaryRange(); filterDevelopers()">
                    </div>

                    <div class="filter-group">
                        <h3 class="filter-title">üéì Experience Range</h3>
                        <label class="range-label">Years: <span id="experienceDisplay">2 - 10 years</span></label>
                        <input type="range" class="range-slider" id="experienceMin" min="0" max="15" value="2" oninput="updateExperienceRange(); filterDevelopers()">
                        <input type="range" class="range-slider" id="experienceMax" min="0" max="15" value="10" oninput="updateExperienceRange(); filterDevelopers()">
                    </div>

                    <div class="filter-group">
                        <h3 class="filter-title">‚≠ê Min Tech Score</h3>
                        <label class="range-label">Score: <span id="techLevelDisplay">0+</span></label>
                        <input type="range" class="range-slider" id="techLevelMin" min="0" max="250" step="5" value="0" oninput="updateTechLevelRange(); filterDevelopers()">
                    </div>

                    <div class="filter-group">
                        <h3 class="filter-title">üìÇ Categories</h3>
                        <div class="ms-control" id="catMs">
                            <button class="ms-button" type="button" onclick="toggleMs('cat')">Select categories <span class="ms-badge" id="catCount">0</span></button>
                            <div class="ms-panel" id="catPanel">
                                <div class="ms-search"><input type="text" id="catSearch" placeholder="Search category" oninput="filterMs('cat')"></div>
                                <div class="ms-list" id="catList"></div>
                                <div class="ms-actions">
                                    <button class="ms-clear" type="button" onclick="clearMs('cat')">Clear</button>
                                    <button class="ms-apply" type="button" onclick="applyMs('cat')">Apply</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="filter-group">
                        <h3 class="filter-title">üöÄ Technologies</h3>
                        <div class="ms-control" id="techMs">
                            <button class="ms-button" type="button" onclick="toggleMs('tech')">Select technologies <span class="ms-badge" id="techCount">0</span></button>
                            <div class="ms-panel" id="techPanel">
                                <div class="ms-search"><input type="text" id="techSearch" placeholder="Search technology" oninput="filterMs('tech')"></div>
                                <div class="ms-list" id="techList"></div>
                                <div class="ms-actions">
                                    <button class="ms-clear" type="button" onclick="clearMs('tech')">Clear</button>
                                    <button class="ms-apply" type="button" onclick="applyMs('tech')">Apply</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="results-header">
                    <div class="results-count" id="resultsCount">Found 0 developers</div>
                    <div><select class="sort-select" id="sortSelect" onchange="sortDevelopers()">
                        <option value="relevance">Sort by Relevance</option>
                        <option value="techLevel">Tech Score (High to Low)</option>
                        <option value="performance">Rating (High to Low)</option>
                        <option value="salary">Salary (Low to High)</option>
                        <option value="experience">Experience (High to Low)</option>
                    </select></div>
                </div>

                <div class="developers-grid" id="developersGrid">
                    <div class="loading"><div class="spinner"></div>Loading developers...</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Top 3 Section -->
    <main class="main-content" id="top3Section">
        <div class="container">
            <div class="content-section">
                <h1 class="section-title">üèÜ Top 3 Developers</h1>
                <p class="section-subtitle">Highest Rating & Tech Score</p>
                <div class="developers-grid" id="top3Grid"></div>
            </div>
        </div>
    </main>

    <!-- Constructor Section -->
    <main class="main-content" id="constructorSection">
        <div class="container">
            <div class="content-section">
                <h1 class="section-title">‚ö° Ideal Developer Constructor</h1>
                <p class="section-subtitle">Tell us your requirements and we'll find the perfect match</p>
                
                <form id="constructorForm">
                    <div class="filters-grid">
                        <div class="filter-group">
                            <h3 class="filter-title">üíº Project Details</h3>
                            <div class="form-group">
                                <label class="form-label">Project Type</label>
                                <select class="form-select" name="projectType" required>
                                    <option value="">Select project type</option>
                                    <option value="web">Web Application</option>
                                    <option value="mobile">Mobile App</option>
                                    <option value="api">API Development</option>
                                    <option value="ai">AI/ML Solution</option>
                                    <option value="ecommerce">E-commerce</option>
                                    <option value="fintech">Fintech</option>
                                    <option value="blockchain">Blockchain/Web3</option>
                                    <option value="game">Game Development</option>
                                </select>
                            </div>
                        </div>

                        <div class="filter-group">
                            <h3 class="filter-title">üéØ Requirements</h3>
                            <div class="form-group">
                                <label class="form-label">Required Technologies</label>
                                <input type="text" class="form-input" name="technologies" placeholder="e.g. React, Node.js, PostgreSQL" required>
                            </div>
                        </div>

                        <div class="filter-group">
                            <h3 class="filter-title">üí∞ Budget & Timeline</h3>
                            <div class="form-group">
                                <label class="form-label">Budget Range</label>
                                <select class="form-select" name="budget" required>
                                    <option value="">Select budget</option>
                                    <option value="1000-2000">$1,000 - $2,000</option>
                                    <option value="2000-4000">$2,000 - $4,000</option>
                                    <option value="4000-6000">$4,000 - $6,000</option>
                                    <option value="6000+">$6,000+</option>
                                </select>
                            </div>
                        </div>

                        <div class="filter-group">
                            <h3 class="filter-title">üìß Contact Info</h3>
                            <div class="form-group">
                                <label class="form-label">Your Email</label>
                                <input type="email" class="form-input" name="email" placeholder="your@company.com" required>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">üìù Project Description</label>
                        <textarea class="form-textarea" name="description" placeholder="Describe your project, timeline, and specific requirements..." required></textarea>
                    </div>

                    <button type="submit" class="btn">üöÄ Find My Ideal Developer</button>
                </form>
            </div>
        </div>
    </main>

    <!-- Contact Modal -->
    <div id="contactModal" class="modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,.5); z-index:2000; backdrop-filter:blur(5px);">
        <div class="modal-content" style="position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); background:#fff; border-radius:20px; padding:24px; max-width:520px; width:92%;">
            <span class="close" onclick="closeModal()" style="position:absolute; top:10px; right:12px; font-size:24px; font-weight:900; color:#718096; cursor:pointer">&times;</span>
            <h2 class="modal-title" style="font-size:1.6rem; font-weight:800; margin-bottom:10px; color:#1a202c;">üì© Contact Developer</h2>
            <p style="margin-bottom: 16px; color: #4a5568;">We'll email you back within 24 hours.</p>
            <form id="contactForm">
                <div class="form-group" style="margin-bottom:12px;">
                    <label class="form-label">Name</label>
                    <input type="text" class="form-input" name="name" placeholder="Your Name" required style="width:100%; padding:10px 12px; border:2px solid #e2e8f0; border-radius:12px;">
                </div>
                <div class="form-group" style="margin-bottom:12px;">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" name="clientEmail" placeholder="your@company.com" required style="width:100%; padding:10px 12px; border:2px solid #e2e8f0; border-radius:12px;">
                </div>
                <div class="form-group" style="margin-bottom:12px;">
                    <label class="form-label">Project Description (optional)</label>
                    <textarea class="form-textarea" name="projectDescription" placeholder="Brief project description..." style="width:100%; padding:10px 12px; border:2px solid #e2e8f0; border-radius:12px; min-height:100px;"></textarea>
                </div>
                <button type="submit" class="btn" style="width:100%; padding:12px; border-radius:12px; background:linear-gradient(135deg,#667eea,#764ba2); color:#fff; font-weight:800;">Send Request</button>
            </form>
        </div>
    </div>

    <script>
        // Data (in static build injected as window.allDevelopers)
        let allDevelopers = window.allDevelopers || [];
        let filteredDevelopers = [];
        let selectedTechnologies = [];
        let selectedCategories = [];
        let currentDeveloper = null;

        function setActiveTab(name){
            document.querySelectorAll('.nav-btn').forEach(btn=>btn.classList.remove('active'));
            const el = document.getElementById('tab-'+name);
            if (el) el.classList.add('active');
        }

        function showSection(sectionName) {
            document.querySelectorAll('.main-content').forEach(section => section.classList.remove('active'));
            document.getElementById(sectionName + 'Section').classList.add('active');
            if (sectionName === 'search') displayDevelopers();
            if (sectionName === 'top3') displayTop3();
        }

        function updateSalaryRange() {
            const min = document.getElementById('salaryMin').value;
            const max = document.getElementById('salaryMax').value;
            document.getElementById('salaryDisplay').textContent = `$${parseInt(min).toLocaleString()} - $${parseInt(max).toLocaleString()}`;
        }
        function updateExperienceRange() {
            const min = document.getElementById('experienceMin').value;
            const max = document.getElementById('experienceMax').value;
            document.getElementById('experienceDisplay').textContent = `${min} - ${max} years`;
        }
        function updateTechLevelRange() {
            const min = document.getElementById('techLevelMin').value;
            document.getElementById('techLevelDisplay').textContent = `${min}+`;
        }

        // Searchable Multi-select helpers
        let pendingCat = new Set();
        let pendingTech = new Set();
        function toggleMs(type){ document.getElementById(type+'Panel').classList.toggle('open'); }
        function clearMs(type){
            if(type==='cat'){ pendingCat.clear(); document.querySelectorAll('#catList input[type=checkbox]').forEach(c=>c.checked=false); }
            else { pendingTech.clear(); document.querySelectorAll('#techList input[type=checkbox]').forEach(c=>c.checked=false); }
        }
        function applyMs(type){
            if(type==='cat'){
                selectedCategories = Array.from(pendingCat);
                document.getElementById('catCount').textContent = selectedCategories.length;
                document.getElementById('catPanel').classList.remove('open');
            } else {
                selectedTechnologies = Array.from(pendingTech);
                document.getElementById('techCount').textContent = selectedTechnologies.length;
                document.getElementById('techPanel').classList.remove('open');
            }
            filterDevelopers();
        }
        function filterMs(type){
            const q = document.getElementById(type+'Search').value.toLowerCase();
            document.querySelectorAll('#'+type+'List .ms-item').forEach(item=>{
                const txt = item.getAttribute('data-text');
                item.style.display = (!q || txt.includes(q)) ? 'flex' : 'none';
            });
        }
        function buildMs(){
            const cats = [...new Set(allDevelopers.map(d=>d.category))].sort();
            const techs = [...new Set(allDevelopers.flatMap(d=>d.technologies))].sort();
            const catList = document.getElementById('catList');
            const techList = document.getElementById('techList');
            catList.innerHTML = cats.map(c=>`<label class="ms-item" data-text="${c.toLowerCase()}"><input type="checkbox" onchange="this.checked?pendingCat.add('${c}'):pendingCat.delete('${c}')"> ${c}</label>`).join('');
            techList.innerHTML = techs.map(t=>`<label class="ms-item" data-text="${t.toLowerCase()}"><input type="checkbox" onchange="this.checked?pendingTech.add('${t}'):pendingTech.delete('${t}')"> ${t}</label>`).join('');
        }
        document.addEventListener('click', (e)=>{
            if(!e.target.closest('.ms-control')){
                const cp = document.getElementById('catPanel'); const tp = document.getElementById('techPanel');
                if (cp) cp.classList.remove('open'); if (tp) tp.classList.remove('open');
            }
        });

        function filterDevelopers() {
            const salaryMin = parseInt(document.getElementById('salaryMin').value);
            const salaryMax = parseInt(document.getElementById('salaryMax').value);
            const expMin = parseInt(document.getElementById('experienceMin').value);
            const expMax = parseInt(document.getElementById('experienceMax').value);
            const techLevelMin = parseFloat(document.getElementById('techLevelMin').value);

            filteredDevelopers = allDevelopers.filter(dev => {
                const salaryMatch = dev.salary >= salaryMin && dev.salary <= salaryMax;
                const expMatch = dev.experience >= expMin && dev.experience <= expMax;
                const techLevelMatch = dev.techLevel >= techLevelMin;
                const techMatch = selectedTechnologies.length === 0 || selectedTechnologies.some(tech => dev.technologies.some(devTech => devTech.toLowerCase().includes(tech.toLowerCase())));
                const categoryMatch = selectedCategories.length === 0 || selectedCategories.includes(dev.category);
                return salaryMatch && expMatch && techLevelMatch && techMatch && categoryMatch;
            });
            sortDevelopers();
        }
        function sortDevelopers() {
            const sortBy = document.getElementById('sortSelect').value;
            switch(sortBy) {
                case 'techLevel': filteredDevelopers.sort((a, b) => b.techLevel - a.techLevel); break;
                case 'performance': filteredDevelopers.sort((a, b) => b.performanceRating - a.performanceRating); break;
                case 'salary': filteredDevelopers.sort((a, b) => a.salary - b.salary); break;
                case 'experience': filteredDevelopers.sort((a, b) => b.experience - a.experience); break;
                default: filteredDevelopers.sort((a, b) => (b.techLevel + b.performanceRating) - (a.techLevel + a.performanceRating));
            }
            displayDevelopers();
        }
        function displayDevelopers() {
            const container = document.getElementById('developersGrid');
            const resultsCount = document.getElementById('resultsCount');
            resultsCount.textContent = `Found ${filteredDevelopers.length} developers`;
            if (filteredDevelopers.length === 0) {
                container.innerHTML = `<div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px; color: #718096;"><h3 style="margin-bottom: 10px;">No developers found</h3><p>Try adjusting your filters to see more results</p></div>`; return;
            }
            container.innerHTML = filteredDevelopers.map(dev => `
                <div class="developer-card">
                    <div class="developer-header">
                        <h3 class="developer-title">${dev.position}</h3>
                        <div class="developer-id">#${dev.developerId}</div>
                    </div>
                    <div class="developer-meta">
                        <div class="meta-item">üìÖ ${dev.experience} years</div>
                        <div class="meta-item">üåç ${dev.englishLevel}</div>
                        <div class="meta-item">üìä ${dev.projects} projects</div>
                        <div class="meta-item">üü¢ ${dev.availability}</div>
                    </div>
                    <div class="ratings-section">
                        <div class="rating-item"><div class="rating-label">Tech Score</div><div class="rating-value tech-level-value">${dev.techLevel}</div></div>
                        <div class="rating-item"><div class="rating-label">Rating</div><div class="rating-value performance-value">${dev.performanceRating}‚òÖ</div></div>
                        <div class="rating-item"><div class="rating-label">Category</div><div class="rating-value category-value">${dev.category}</div></div>
                    </div>
                    <div class="tech-skills">${dev.technologies.slice(0, 6).map((tech, i) => `<span class="skill-tag ${i < 2 ? 'primary' : ''}">${tech}</span>`).join('')}${dev.technologies.length > 6 ? `<span class="skill-tag">+${dev.technologies.length - 6}</span>` : ''}</div>
                    <div class="experience-description">${dev.description}</div>
                    <div class="card-footer">
                        <div><div class="salary-amount">$${dev.salary.toLocaleString()}</div><div class="salary-period">per month</div></div>
                        <button class="hire-btn" onclick="openContactModal('${dev.developerId}', '${dev.position}')">üíé Contact</button>
                    </div>
                </div>
            `).join('');
        }
        function displayTop3() {
            const top3Devs = [...allDevelopers].sort((a,b)=> b.performanceRating - a.performanceRating || b.techLevel - a.techLevel).slice(0,3);
            const container = document.getElementById('top3Grid');
            container.innerHTML = top3Devs.map((dev, index) => `
                <div class="developer-card" style="border-color: ${index === 0 ? '#feca57' : index === 1 ? '#c0c0c0' : '#cd7f32'};">
                    <div class="developer-header">
                        <h3 class="developer-title">${index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : 'ü•â'} ${dev.position}</h3>
                        <div class="developer-id">#${dev.developerId}</div>
                    </div>
                    <div class="developer-meta">
                        <div class="meta-item">üìÖ ${dev.experience} years</div>
                        <div class="meta-item">üåç ${dev.englishLevel}</div>
                        <div class="meta-item">üìä ${dev.projects} projects</div>
                    </div>
                    <div class="ratings-section">
                        <div class="rating-item"><div class="rating-label">Tech Score</div><div class="rating-value tech-level-value">${dev.techLevel}</div></div>
                        <div class="rating-item"><div class="rating-label">Rating</div><div class="rating-value performance-value">${dev.performanceRating}‚òÖ</div></div>
                        <div class="rating-item"><div class="rating-label">Category</div><div class="rating-value category-value">${dev.category}</div></div>
                    </div>
                    <div class="tech-skills">${dev.technologies.slice(0, 6).map((tech, i) => `<span class="skill-tag ${i < 2 ? 'primary' : ''}">${tech}</span>`).join('')}</div>
                    <div class="experience-description">${dev.description}</div>
                    <div class="card-footer"><div><div class="salary-amount">$${dev.salary.toLocaleString()}</div><div class="salary-period">per month</div></div><button class="hire-btn" onclick="openContactModal('${dev.developerId}', '${dev.position}')">üíé Hire Top Developer</button></div>
                </div>
            `).join('');
        }
        function openContactModal(developerId, position) {
            currentDeveloper = allDevelopers.find(dev => dev.developerId === developerId);
            document.getElementById('contactModal').style.display = 'block';
        }
        function closeModal() { document.getElementById('contactModal').style.display = 'none'; }

        // Mailto handlers (static)
        function submitContactForm(e){
            e.preventDefault();
            const formData = new FormData(e.target);
            const name = formData.get('name') || 'Client';
            const email = formData.get('clientEmail');
            const desc = formData.get('projectDescription') || '';
            const subject = encodeURIComponent(`just4u: ${currentDeveloper?.developerId} ${currentDeveloper?.position}`);
            const body = encodeURIComponent(`Name: ${name}\nEmail: ${email}\nDeveloper: ${currentDeveloper?.developerId} ${currentDeveloper?.position}\nCategory: ${currentDeveloper?.category}\nEnglish: ${currentDeveloper?.englishLevel}\nTech Score: ${currentDeveloper?.techLevel}\nRating: ${currentDeveloper?.performanceRating}\nSalary: $${currentDeveloper?.salary}/mo\nAvailability: ${currentDeveloper?.availability}\n\nProject: ${desc}`);
            window.location.href = `mailto:stant1605@gmail.com?subject=${subject}&body=${body}`;
            closeModal(); e.target.reset();
        }
        function submitConstructorForm(e){
            e.preventDefault();
            const formData = new FormData(e.target);
            const subject = encodeURIComponent('just4u: Constructor Request');
            const body = encodeURIComponent(`Project Type: ${formData.get('projectType')}\nTechnologies: ${formData.get('technologies')}\nBudget: ${formData.get('budget')}\nEmail: ${formData.get('email')}\nDescription: ${formData.get('description')||''}`);
            window.location.href = `mailto:stant1605@gmail.com?subject=${subject}&body=${body}`;
            e.target.reset();
        }

        document.addEventListener('DOMContentLoaded', function() {
            // re-read injected dataset if present
            if (window.allDevelopers && window.allDevelopers.length) {
                allDevelopers = window.allDevelopers;
            }
            // build controls and initial views
            buildMs();
            updateSalaryRange(); updateExperienceRange(); updateTechLevelRange();
            filterDevelopers();
            displayTop3();
            setActiveTab('search');
            // wire forms
            const contact = document.getElementById('contactForm'); if (contact) contact.addEventListener('submit', submitContactForm);
            const constructor = document.getElementById('constructorForm'); if (constructor) constructor.addEventListener('submit', submitConstructorForm);
        });
    </script>
</body>
</html>